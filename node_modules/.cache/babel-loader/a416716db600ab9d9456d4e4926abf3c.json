{"remainingRequest":"/home/nightshrine/job/intern/エムティーアイ/tech-2022-term2-for-students/node_modules/thread-loader/dist/cjs.js!/home/nightshrine/job/intern/エムティーアイ/tech-2022-term2-for-students/node_modules/babel-loader/lib/index.js!/home/nightshrine/job/intern/エムティーアイ/tech-2022-term2-for-students/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/nightshrine/job/intern/エムティーアイ/tech-2022-term2-for-students/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/nightshrine/job/intern/エムティーアイ/tech-2022-term2-for-students/src/views/Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/nightshrine/job/intern/エムティーアイ/tech-2022-term2-for-students/src/views/Login.vue","mtime":1661235136000},{"path":"/home/nightshrine/job/intern/エムティーアイ/tech-2022-term2-for-students/babel.config.js","mtime":1661237967921},{"path":"/home/nightshrine/job/intern/エムティーアイ/tech-2022-term2-for-students/node_modules/cache-loader/dist/cjs.js","mtime":1661238179693},{"path":"/home/nightshrine/job/intern/エムティーアイ/tech-2022-term2-for-students/node_modules/thread-loader/dist/cjs.js","mtime":1661238178909},{"path":"/home/nightshrine/job/intern/エムティーアイ/tech-2022-term2-for-students/node_modules/babel-loader/lib/index.js","mtime":1661238180117},{"path":"/home/nightshrine/job/intern/エムティーアイ/tech-2022-term2-for-students/node_modules/cache-loader/dist/cjs.js","mtime":1661238179693},{"path":"/home/nightshrine/job/intern/エムティーアイ/tech-2022-term2-for-students/node_modules/vue-loader/lib/index.js","mtime":1661238182421}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8g5b+F6KaB44Gq44KC44Gu44Gv44GT44GT44Gn44Kk44Oz44Od44O844OI44GZ44KLCi8vIEDjga8vc3Jj44Gu5ZCM44GY5oSP5ZGz44Gn44GZCi8vIGltcG9ydCBzb21ldGhpbmcgZnJvbSAnQC9jb21wb25lbnRzL3NvbWV0aGluZy52dWUnOwppbXBvcnQgeyBiYXNlVXJsIH0gZnJvbSAnQC9hc3NldHMvY29uZmlnLmpzJzsKaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdMb2dpbicsCiAgY29tcG9uZW50czogey8vIOiqreOBv+i+vOOCk+OBoOOCs+ODs+ODneODvOODjeODs+ODiOWQjeOCkuOBk+OBk+OBq+iomOi/sOOBmeOCiwogIH0sCgogIGRhdGEoKSB7CiAgICAvLyBWdWUuanPjgafkvb/jgYblpInmlbDjga/jgZPjgZPjgavoqJjov7DjgZnjgosKICAgIHJldHVybiB7CiAgICAgIGlzTG9naW46IHRydWUsCiAgICAgIHVzZXI6IHsKICAgICAgICB1c2VySWQ6IG51bGwsCiAgICAgICAgcGFzc3dvcmQ6IG51bGwsCiAgICAgICAgbmlja25hbWU6IG51bGwsCiAgICAgICAgYWdlOiBudWxsCiAgICAgIH0KICAgIH07CiAgfSwKCiAgY29tcHV0ZWQ6IHsKICAgIC8vIOioiOeul+OBl+OBn+e1kOaenOOCkuWkieaVsOOBqOOBl+OBpuWIqeeUqOOBl+OBn+OBhOOBqOOBjeOBr+OBk+OBk+OBq+iomOi/sOOBmeOCiwogICAgc3VibWl0VGV4dCgpIHsKICAgICAgcmV0dXJuIHRoaXMuaXNMb2dpbiA/ICLjg63jgrDjgqTjg7MiIDogIuaWsOimj+eZu+mMsiI7CiAgICB9LAoKICAgIHRvZ2dsZVRleHQoKSB7CiAgICAgIHJldHVybiB0aGlzLmlzTG9naW4gPyAi5paw6KaP55m76YyyIiA6ICLjg63jgrDjgqTjg7MiOwogICAgfQoKICB9LAogIG1ldGhvZHM6IHsKICAgIC8vIFZ1ZS5qc+OBp+S9v+OBhumWouaVsOOBr+OBk+OBk+OBp+iomOi/sOOBmeOCiwogICAgdG9nZ2xlTW9kZSgpIHsKICAgICAgdGhpcy5pc0xvZ2luID0gIXRoaXMuaXNMb2dpbjsKICAgIH0sCgogICAgc3VibWl0KCkgewogICAgICBpZiAodGhpcy5pc0xvZ2luKSB7CiAgICAgICAgaWYgKCF0aGlzLnVzZXIudXNlcklkKSB7CiAgICAgICAgICB0aGlzLmVyciA9ICd1c2VySWTjgpLlhaXlipvjgZfjgabjgY/jgaDjgZXjgYQnOwogICAgICAgIH0gZWxzZSBpZiAoIXRoaXMudXNlci5wYXNzd29yZCkgewogICAgICAgICAgdGhpcy5lcnIgPSAn44OR44K544Ov44O844OJ44KS5YWl5Yqb44GX44Gm44GP44Gg44GV44GEJzsKICAgICAgICB9CgogICAgICAgIGNvbnN0IHJlcXVlc3RCb2R5ID0gewogICAgICAgICAgdXNlcklkOiB0aGlzLnVzZXIudXNlcklkLAogICAgICAgICAgcGFzc3dvcmQ6IHRoaXMudXNlci5wYXNzd29yZAogICAgICAgIH07CiAgICAgICAgYXhpb3MucG9zdChiYXNlVXJsICsgIi91c2VyL2xvZ2luIiwgcmVxdWVzdEJvZHkpLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgICAgLy8g5oiQ5Yqf44GX44Gf44Go44GN44Gu5Yem55CG44Gv44GT44GT44Gr6KiY6L+w44GZ44KLCiAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZS5kYXRhKTsKICAgICAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndG9rZW4nLCByZXNwb25zZS5kYXRhLnRva2VuKTsKICAgICAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndXNlcklkJywgdGhpcy51c2VyLnVzZXJJZCk7CiAgICAgICAgICBjb25zb2xlLmxvZyh3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Rva2VuJykpOwogICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgICAgICBuYW1lOiAnSG9tZScKICAgICAgICAgIH0pOwogICAgICAgIH0pLmNhdGNoKCgpID0+IHsKICAgICAgICAgIC8vIOODrOOCueODneODs+OCueOBjOOCqOODqeODvOOBp+i/lOOBo+OBpuOBjeOBn+OBqOOBjeOBruWHpueQhuOBr+OBk+OBk+OBq+iomOi/sOOBmeOCiwogICAgICAgICAgdGhpcy5lcnIgPSAn5LqI5pyf44Gb44Gs44Ko44Op44O844GM55m655Sf44GX44G+44GX44GfJzsKICAgICAgICB9KTsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIGlmICghdGhpcy51c2VyLm5pY2tuYW1lKSB7CiAgICAgICAgdGhpcy5lcnIgPSAi44OL44OD44Kv44ON44O844Og44KS5YWl5Yqb44GX44Gm44GP44Gg44GV44GEIjsKICAgICAgfSBlbHNlIGlmICghdGhpcy51c2VyLmFnZSkgewogICAgICAgIHRoaXMuZXJyID0gIuW5tOm9ouOCkuWFpeWKm+OBl+OBpuOBj+OBoOOBleOBhCI7CiAgICAgIH0KCiAgICAgIGNvbnN0IHJlcXVlc3RCb2R5ID0gewogICAgICAgIHVzZXJJZDogdGhpcy51c2VyLnVzZXJJZCwKICAgICAgICBwYXNzd29yZDogdGhpcy51c2VyLnBhc3N3b3JkLAogICAgICAgIG5pY2tuYW1lOiB0aGlzLnVzZXIubmlja25hbWUsCiAgICAgICAgYWdlOiB0aGlzLnVzZXIuYWdlCiAgICAgIH07CiAgICAgIGF4aW9zLnBvc3QoYmFzZVVybCArICIvdXNlci9zaWdudXAiLCByZXF1ZXN0Qm9keSkudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKCd0b2tlbicsIHJlc3BvbnNlLmRhdGEudG9rZW4pOwogICAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndXNlcklkJywgdGhpcy51c2VyLnVzZXJJZCk7CiAgICAgICAgY29uc29sZS5sb2cod2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCd0b2tlbicpKTsKICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgICBuYW1lOiAnSG9tZScKICAgICAgICB9KTsKICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZS5kYXRhKTsKICAgICAgfSkuY2F0Y2goKCkgPT4gewogICAgICAgIHRoaXMuZXJyID0gIuS6iOacn+OBm+OBrOOCqOODqeODvOOBjOeZuueUn+OBl+OBvuOBl+OBnyI7CiAgICAgIH0pOwogICAgfQoKICB9Cn07"},{"version":3,"mappings":"AA0CA;AACA;AACA;AACA;AACA;AAEA;EACAA,aADA;EAEAC,aACA;EADA,CAFA;;EAKAC;IACA;IACA;MACAC,aADA;MAEAC;QACAC,YADA;QAEAC,cAFA;QAGAC,cAHA;QAIAC;MAJA;IAFA;EASA,CAhBA;;EAiBAC;IACA;IACAC;MACA;IACA,CAJA;;IAKAC;MACA;IACA;;EAPA,CAjBA;EA0BAC;IACA;IACAC;MACA;IACA,CAJA;;IAKAC;MACA;QACA;UACA;QACA,CAFA,MAGA;UACA;QACA;;QACA;UACAT,wBADA;UAEAC;QAFA;QAIAS,iDACAC,IADA,CACAC;UACA;UACAC;UACAC;UACAA;UACAD;UACA;YAAAlB;UAAA;QACA,CARA,EASAoB,KATA,CASA;UACA;UACA;QACA,CAZA;QAaA;MACA;;MACA;QACA;MACA,CAFA,MAEA;QACA;MACA;;MAEA;QACAf,wBADA;QAEAC,4BAFA;QAGAC,4BAHA;QAIAC;MAJA;MAMAO,kDACAC,IADA,CACAC;QACAE;QACAA;QACAD;QACA;UAAAlB;QAAA;QACAkB;MACA,CAPA,EAQAE,KARA,CAQA;QACA;MACA,CAVA;IAYA;;EAxDA;AA1BA","names":["name","components","data","isLogin","user","userId","password","nickname","age","computed","submitText","toggleText","methods","toggleMode","submit","axios","then","response","console","window","catch"],"sourceRoot":"src/views","sources":["Login.vue"],"sourcesContent":["<template>\n  <div>\n    <div class=\"ui main container\" @submit.prevent=\"submit\">\n      <!-- 基本的なコンテンツはここに記載する -->\n      <div class=\"ui segment\">\n        <form class=\"ui large form\">\n          <div class=\"field\">\n            <div class=\"ui left icon input\">\n              <i class=\"user icon\"></i>\n              <input type=\"text\" placeholder=\"ID\" v-model=\"user.userId\" />\n            </div>\n          </div>\n          <div class=\"field\">\n            <div class=\"ui left icon input\">\n              <i class=\"lock icon\"></i>\n              <input type=\"password\" placeholder=\"Password\" v-model=\"user.password\" />\n            </div>\n          </div>\n          <div class=\"field\" v-if=\"!isLogin\">\n            <div class=\"ui left icon input\">\n              <i class=\"tag icon\"></i>\n              <input type=\"text\" placeholder=\"Nickname\" v-model=\"user.nickname\" />\n            </div>\n          </div>\n          <div class=\"field\" v-if=\"!isLogin\">\n            <div class=\"ui left icon input\">\n              <i class=\"calendar icon\"></i>\n              <input type=\"text\" placeholder=\"Age\" v-model.number=\"user.age\" />\n            </div>\n          </div>\n          <button class=\"ui huge green fluid button\" type=\"submit\">\n            {{ submitText }}\n          </button>\n        </form>\n      </div>\n      <button @click=\"toggleMode()\" class=\"ui huge grey fluid button\" type=\"submit\">\n        {{ toggleText }}\n      </button>\n    </div>\n  </div>\n</template>\n<script>\n// 必要なものはここでインポートする\n// @は/srcの同じ意味です\n// import something from '@/components/something.vue';\nimport { baseUrl } from '@/assets/config.js';\nimport axios from \"axios\";\n\nexport default {\n  name: 'Login',\n  components: {\n   // 読み込んだコンポーネント名をここに記述する\n  },\n  data() {\n  // Vue.jsで使う変数はここに記述する\n    return {\n      isLogin:true,\n      user: {\n        userId: null,\n        password: null,\n        nickname: null,\n        age: null\n      },\n    };\n  },\n  computed: {\n  // 計算した結果を変数として利用したいときはここに記述する\n  submitText() {\n    return this.isLogin ? \"ログイン\" : \"新規登録\";\n  },\n  toggleText() {\n    return this.isLogin ? \"新規登録\" : \"ログイン\" ;\n  }\n  },\n  methods: {\n  // Vue.jsで使う関数はここで記述する\n    toggleMode() {\n      this.isLogin = !this.isLogin;\n    },\n    submit() {\n      if (this.isLogin) {\n        if (!this.user.userId) {\n          this.err = 'userIdを入力してください';\n        }\n        else if (!this.user.password) {\n          this.err = 'パスワードを入力してください';\n        }\n        const requestBody = {\n          userId: this.user.userId,\n          password: this.user.password,\n        }\n        axios.post(baseUrl + \"/user/login\", requestBody)\n          .then((response) => {\n            // 成功したときの処理はここに記述する\n            console.log(response.data);\n            window.localStorage.setItem('token', response.data.token);\n            window.localStorage.setItem('userId', this.user.userId);\n            console.log(window.localStorage.getItem('token'))\n            this.$router.push({ name: 'Home' });\n          })\n          .catch(() => {\n            // レスポンスがエラーで返ってきたときの処理はここに記述する\n            this.err = '予期せぬエラーが発生しました';\n          });\n        return;\n      }\n      if (!this.user.nickname) {\n        this.err = \"ニックネームを入力してください\";\n      } else if (!this.user.age) {\n        this.err = \"年齢を入力してください\";\n      }\n      \n      const requestBody = {\n        userId: this.user.userId,\n        password: this.user.password,\n        nickname: this.user.nickname,\n        age: this.user.age,\n      }\n      axios.post(baseUrl + \"/user/signup\", requestBody)\n        .then((response) => {\n          window.localStorage.setItem('token', response.data.token);\n          window.localStorage.setItem('userId', this.user.userId);\n          console.log(window.localStorage.getItem('token'))\n          this.$router.push({ name: 'Home' });\n          console.log(response.data);\n        })\n        .catch(() => {\n          this.err = \"予期せぬエラーが発生しました\";\n        }\n      );\n    }\n  },\n}\n</script>\n<style scoped>\n/* このコンポーネントだけに適用するCSSは */\n</style>"]}]}