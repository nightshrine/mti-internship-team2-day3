(function(e){function t(t){for(var r,a,o=t[0],u=t[1],l=t[2],d=0,m=[];d<o.length;d++)a=o[d],Object.prototype.hasOwnProperty.call(i,a)&&i[a]&&m.push(i[a][0]),i[a]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(e[r]=u[r]);c&&c(t);while(m.length)m.shift()();return n.push.apply(n,l||[]),s()}function s(){for(var e,t=0;t<n.length;t++){for(var s=n[t],r=!0,o=1;o<s.length;o++){var u=s[o];0!==i[u]&&(r=!1)}r&&(n.splice(t--,1),e=a(a.s=s[0]))}return e}var r={},i={app:0},n=[];function a(t){if(r[t])return r[t].exports;var s=r[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,a),s.l=!0,s.exports}a.m=e,a.c=r,a.d=function(e,t,s){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(a.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(s,r,function(t){return e[t]}.bind(null,r));return s},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],u=o.push.bind(o);o.push=t,o=o.slice();for(var l=0;l<o.length;l++)t(o[l]);var c=u;n.push([0,"chunk-vendors"]),s()})({0:function(e,t,s){e.exports=s("56d7")},1240:function(e,t,s){},"56d7":function(e,t,s){"use strict";s.r(t);var r=s("2b0e"),i=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"app"}},[t("Menu"),t("router-view")],1)},n=[],a=function(){var e=this,t=e._self._c;return t("div",{staticClass:"ui secondary pointing green inverted massive menu"},[t("a",{staticClass:"item",class:{active:"Home"==e.current},on:{click:function(t){return e.switchPage("Home")}}},[e._v("Home")]),t("a",{staticClass:"item",class:{active:"Users"==e.current},on:{click:function(t){return e.switchPage("Users")}}},[e._v("Users")]),t("a",{staticClass:"item",class:{active:"Profile"==e.current},on:{click:function(t){return e.switchPage("Profile")}}},[e._v("Profile")]),t("div",{staticClass:"right menu"},[t("button",{staticClass:"item",on:{click:e.logout}},[e._v("Logout")])])])},o=[],u={name:"Menu",computed:{current(){return this.$route.name}},methods:{switchPage(e){this.$route.name!==e&&this.$router.push({name:e})},logout(){window.localStorage.removeItem("token"),window.localStorage.removeItem("userId"),this.$router.push({name:"Login"})}}},l=u,c=s("2877"),d=Object(c["a"])(l,a,o,!1,null,"4a22b159",null),m=d.exports,p={name:"App",components:{Menu:m}},v=p,g=Object(c["a"])(v,i,n,!1,null,null,null),f=g.exports,h=s("8c4f"),w=function(){var e=this;e._self._c;return e._m(0)},b=[function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"ui main container"},[t("div",{staticClass:"ui segment"})])])}],C={name:"Home",components:{},data(){return{post:{text:null,category:null,err:null},search:{username:null,category:null,start:null,end:null,err:null},query:{start:null,end:null},articles:[],iam:null}},computed:{},created(){this.iam=localStorage.getItem("userId")},methods:{}},k=C,_=Object(c["a"])(k,w,b,!1,null,"071768f4",null),I=_.exports,y=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"ui main container",on:{submit:function(t){return t.preventDefault(),e.submit.apply(null,arguments)}}},[t("div",{staticClass:"ui segment"},[t("form",{staticClass:"ui large form"},[t("div",{staticClass:"field"},[t("div",{staticClass:"ui left icon input"},[t("i",{staticClass:"user icon"}),t("input",{directives:[{name:"model",rawName:"v-model",value:e.user.userId,expression:"user.userId"}],attrs:{type:"text",placeholder:"ID"},domProps:{value:e.user.userId},on:{input:function(t){t.target.composing||e.$set(e.user,"userId",t.target.value)}}})])]),t("div",{staticClass:"field"},[t("div",{staticClass:"ui left icon input"},[t("i",{staticClass:"lock icon"}),t("input",{directives:[{name:"model",rawName:"v-model",value:e.user.password,expression:"user.password"}],attrs:{type:"password",placeholder:"Password"},domProps:{value:e.user.password},on:{input:function(t){t.target.composing||e.$set(e.user,"password",t.target.value)}}})])]),e.isLogin?e._e():t("div",{staticClass:"field"},[t("div",{staticClass:"ui left icon input"},[t("i",{staticClass:"tag icon"}),t("input",{directives:[{name:"model",rawName:"v-model",value:e.user.nickname,expression:"user.nickname"}],attrs:{type:"text",placeholder:"Nickname"},domProps:{value:e.user.nickname},on:{input:function(t){t.target.composing||e.$set(e.user,"nickname",t.target.value)}}})])]),e.isLogin?e._e():t("div",{staticClass:"field"},[t("div",{staticClass:"ui left icon input"},[t("i",{staticClass:"calendar icon"}),t("input",{directives:[{name:"model",rawName:"v-model.number",value:e.user.age,expression:"user.age",modifiers:{number:!0}}],attrs:{type:"text",placeholder:"Age"},domProps:{value:e.user.age},on:{input:function(t){t.target.composing||e.$set(e.user,"age",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}})])]),t("button",{staticClass:"ui huge green fluid button",attrs:{type:"submit"}},[e._v(" "+e._s(e.submitText)+" ")])])]),t("button",{staticClass:"ui huge grey fluid button",attrs:{type:"submit"},on:{click:function(t){return e.toggleMode()}}},[e._v(" "+e._s(e.toggleText)+" ")])])])},x=[];const P="https://sss7b91jrl.execute-api.ap-northeast-1.amazonaws.com";var $=s("bc3a"),O=s.n($),j={name:"Login",components:{},data(){return{isLogin:!0,user:{userId:null,password:null,nickname:null,age:null}}},computed:{submitText(){return this.isLogin?"ログイン":"新規登録"},toggleText(){return this.isLogin?"新規登録":"ログイン"}},methods:{toggleMode(){this.isLogin=!this.isLogin},submit(){if(this.isLogin){this.user.userId?this.user.password||(this.err="パスワードを入力してください"):this.err="userIdを入力してください";const e={userId:this.user.userId,password:this.user.password};return void O.a.post(P+"/user/login",e).then(e=>{console.log(e.data),window.localStorage.setItem("token",e.data.token),window.localStorage.setItem("userId",this.user.userId),console.log(window.localStorage.getItem("token")),this.$router.push({name:"Home"})}).catch(()=>{this.err="予期せぬエラーが発生しました"})}this.user.nickname?this.user.age||(this.err="年齢を入力してください"):this.err="ニックネームを入力してください";const e={userId:this.user.userId,password:this.user.password,nickname:this.user.nickname,age:this.user.age};O.a.post(P+"/user/signup",e).then(e=>{window.localStorage.setItem("token",e.data.token),window.localStorage.setItem("userId",this.user.userId),console.log(window.localStorage.getItem("token")),this.$router.push({name:"Home"}),console.log(e.data)}).catch(()=>{this.err="予期せぬエラーが発生しました"})}}},S=j,L=(s("dbc7"),Object(c["a"])(S,y,x,!1,null,"e1714d34",null)),N=L.exports,U=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"ui main container"},[e.err?t("div",{staticClass:"ui negative message"},[t("div",{staticClass:"header"},[e._v(" Error!! ")]),t("p",[e._v(e._s(e.err)+" ")])]):e._e(),t("div",{staticClass:"ui segment"},[t("form",{staticClass:"ui large form",on:{submit:function(t){return t.preventDefault(),e.submit.apply(null,arguments)}}},[t("div",{staticClass:"field"},[t("div",{staticClass:"ui left icon input"},[t("i",{staticClass:"user icon"}),t("input",{directives:[{name:"model",rawName:"v-model",value:e.user.userId,expression:"user.userId"}],attrs:{type:"text",placeholder:"ID",required:"",disabled:""},domProps:{value:e.user.userId},on:{input:function(t){t.target.composing||e.$set(e.user,"userId",t.target.value)}}})])]),t("div",{staticClass:"field"},[t("div",{staticClass:"ui left icon input"},[t("i",{staticClass:"lock icon"}),t("input",{directives:[{name:"model",rawName:"v-model",value:e.user.password,expression:"user.password"}],attrs:{type:"text",placeholder:"Password"},domProps:{value:e.user.password},on:{input:function(t){t.target.composing||e.$set(e.user,"password",t.target.value)}}})])]),t("div",{staticClass:"field"},[t("div",{staticClass:"ui left icon input"},[t("i",{staticClass:"tag icon"}),t("input",{directives:[{name:"model",rawName:"v-model",value:e.user.nickname,expression:"user.nickname"}],attrs:{type:"text",placeholder:"Nickname"},domProps:{value:e.user.nickname},on:{input:function(t){t.target.composing||e.$set(e.user,"nickname",t.target.value)}}})])]),t("div",{staticClass:"field"},[t("div",{staticClass:"ui left icon input"},[t("i",{staticClass:"calendar icon"}),t("input",{directives:[{name:"model",rawName:"v-model.number",value:e.user.age,expression:"user.age",modifiers:{number:!0}}],attrs:{type:"text",placeholder:"Age"},domProps:{value:e.user.age},on:{input:function(t){t.target.composing||e.$set(e.user,"age",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}})])]),t("button",{staticClass:"ui huge green fluid button",attrs:{type:"submit"}},[e._v(" 更新 ")])])]),t("button",{staticClass:"ui huge grey fluid button",on:{click:e.deleteUser}},[e._v(" 退会 ")])])])},M=[],H=(s("d9e2"),{name:"Profile",data(){return{user:{userId:window.localStorage.getItem("userId"),password:null,nickname:null,age:null},err:null}},methods:{submit(){if(!this.user.password)return void(this.err="パスワードを入力してください");if(!this.user.nickname)return void(this.err="ニックネームを入力してください");if(!this.user.age)return void(this.err="年齢を入力してください");const e={userId:this.user.userId,password:this.user.password,nickname:this.user.nickname,age:this.user.age};O.a.put(P+"/user",e).then(()=>{this.$router.push({name:"Home"})}).catch(e=>{throw new Error(e)})},deleteUser(){O.a.delete(P+"/user",{headers:{authorization:"mtiToken"},data:{userId:this.user.userId}}).then(()=>{this.$router.push({name:"Login"})}).catch(e=>{throw new Error(e)})}},created(){window.localStorage.getItem("userId")||this.$router.push({name:"Login"}),O.a.get(P+"/user?userId="+this.user.userId).then(e=>{console.log(e),this.user.nickname=e.data.nickname,this.user.age=e.data.age}).catch(()=>{this.err="予期せぬエラーが発生しました"})}}),T=H,D=(s("59f1"),Object(c["a"])(T,U,M,!1,null,"4b3cfccb",null)),A=D.exports,E=function(){var e=this,t=e._self._c;return t("div",{staticClass:"ui main container"},[t("div",{staticClass:"ui segment"},[t("form",{staticClass:"ui form"},[t("div",{staticClass:"field"},[t("label",[e._v("ユーザー名")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.nickname,expression:"nickname"}],attrs:{type:"text",placeholder:"Nickname"},domProps:{value:e.nickname},on:{input:function(t){t.target.composing||(e.nickname=t.target.value)}}})]),t("div",{staticClass:"field"},[t("label",[e._v("年齢")]),t("div",{staticClass:"inline fields"},[t("div",{staticClass:"field"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.start,expression:"start"}],attrs:{type:"text"},domProps:{value:e.start},on:{input:function(t){t.target.composing||(e.start=t.target.value)}}}),t("label",[e._v("歳から")])]),t("div",{staticClass:"field"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.end,expression:"end"}],attrs:{type:"text"},domProps:{value:e.end},on:{input:function(t){t.target.composing||(e.end=t.target.value)}}}),t("label",[e._v("歳まで")])])])])])]),e._l(e.filterdUsers,(function(s,r){return[t("div",{key:r,staticClass:"ui segment"},[t("h2",{staticClass:"ui header"},[t("div",{staticClass:"content"},[e._v(" "+e._s(s.nickname)+" "),t("div",{staticClass:"ui green label"},[e._v(e._s(s.age))]),t("div",{staticClass:"sub header"},[e._v(e._s(s.userId))])])])])]}))],2)},q=[],z={name:"Users",data(){return{users:[],nickname:null,start:0,end:100}},computed:{filterdUsers(){let e=this.users;return this.nickname&&(e=e.filter(e=>e.nickname.match(this.nickname))),this.start&&(e=e.filter(e=>e.age>=this.start)),this.end&&(e=e.filter(e=>e.age<=this.end)),e}},created(){O.a.get(P+"/users").then(e=>{console.log(e),this.users=e.data}).catch(()=>{})}},J=z,B=(s("f904"),Object(c["a"])(J,E,q,!1,null,"7a043ff3",null)),F=B.exports;r["a"].use(h["a"]);const G=[{path:"/",name:"Home",component:I},{path:"/login",name:"Login",component:N},{path:"/profile",name:"Profile",component:A},{path:"/users",name:"Users",component:F}],K=new h["a"]({mode:"hash",base:"",routes:G});var Q=K,R=s("7d05"),V=s.n(R);r["a"].config.productionTip=!1,new r["a"]({router:Q,css:V.a,render:e=>e(f)}).$mount("#app")},"59f1":function(e,t,s){"use strict";s("1240")},"7d05":function(e,t,s){},9684:function(e,t,s){},dbc7:function(e,t,s){"use strict";s("f94a")},f904:function(e,t,s){"use strict";s("9684")},f94a:function(e,t,s){}});
//# sourceMappingURL=app.3c0eb2f7.js.map